"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[870],{870:function(e,t,n){n.r(t),n.d(t,{TasksPage:function(){return V}});var r="ContactForm_form__dhl+T",a="ContactForm_label__-cVXI",c="ContactForm_input__Bl93P",s="ContactForm_button__eSwX9",u=n(434),o=n(984),i=n(686),l=n(916),d=function(e){return e.contacts.items},m=function(e){return e.filter},p=function(e){return e.contacts.isLoading},f=function(e){return e.contacts.error},h=(0,l.P1)([d,m],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))})),v=n(861),b=n(757),_=n.n(b),x=n(382),j=n(243);j.Z.defaults.baseURL="https://64ab1da90c6d844abedf3127.mockapi.io";var C=(0,x.hg)("contacts/fetchContacts",function(){var e=(0,v.Z)(_().mark((function e(t,n){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.Z.get("/contacts");case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),w=(0,x.hg)("contacts/addContact",function(){var e=(0,v.Z)(_().mark((function e(t,n){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.Z.post("/contacts",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),N=(0,x.hg)("contacts/deleteContact",function(){var e=(0,v.Z)(_().mark((function e(t,n){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.Z.delete("/contacts/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),g=n(184),y=function(){var e=(0,u.I0)(),t=(0,u.v9)(d);return(0,g.jsxs)("form",{onSubmit:function(n){n.preventDefault();var r={id:(0,o.x0)(),name:n.currentTarget.elements.name.value,number:n.currentTarget.elements.number.value};if(t.find((function(e){return e.name.toLowerCase()===r.name.toLowerCase()})))return i.Notify.failure("Contact already exists");e(w(r),i.Notify.success("Contact was added to phonebook"),n.currentTarget.reset())},className:r,children:[(0,g.jsx)("label",{className:a,children:"Name"}),(0,g.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",placeholder:"Enter name",className:c,required:!0}),(0,g.jsx)("label",{className:a,children:"Number"}),(0,g.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",placeholder:"Enter phone number",className:c,required:!0}),(0,g.jsx)("button",{type:"submit",className:s,children:"Add contact"})]})},k="ContactList_contactListItem__3th7-",L="ContactList_contactListItemBtn__TXYnT",Z=n(791),F=function(){var e=(0,u.v9)(h),t=(0,u.v9)(f),n=(0,u.v9)(p),r=(0,u.I0)();(0,Z.useEffect)((function(){r(C())}),[r]);return(0,g.jsxs)("div",{children:[n&&(0,g.jsx)("p",{children:"Loading...."}),t&&(0,g.jsx)("p",{children:t}),(0,g.jsx)("ul",{children:e.map((function(e){var t=e.id,n=e.name,a=e.number;return(0,g.jsxs)("li",{className:k,children:[n,": ",a,(0,g.jsx)("button",{type:"button",className:L,onClick:function(){return function(e){r(N(e)),i.Notify.warning("Contact was deleted")}(t)},children:"Delete"})]},t)}))})]})},A="Filter_container__L5eml",T="Filter_filterLabel__+pnW-",I="Filter_filterName__Y2kKA",P=(0,x.oM)({name:"filter",initialState:"",reducers:{setFilter:function(e,t){return t.payload}}}),z=P.actions.setFilter,B=(P.reducer,function(){var e=(0,u.I0)(),t=(0,u.v9)(m);return(0,g.jsxs)("div",{className:A,children:[(0,g.jsx)("label",{className:T,children:"Find contacts by name "}),(0,g.jsx)("input",{className:I,type:"text",name:"filter",placeholder:"Enter name",value:t,onChange:function(t){return e(z(t.target.value.trim()))}})]})}),E="App_container__ZdBeZ",V=function(){return(0,g.jsxs)("div",{className:E,children:[(0,g.jsx)("h1",{children:"Phonebook"}),(0,g.jsx)(y,{}),(0,g.jsx)("h2",{children:" Contacts"}),(0,g.jsx)(B,{}),(0,g.jsx)(F,{})]})}}}]);
//# sourceMappingURL=870.fc0c6751.chunk.js.map